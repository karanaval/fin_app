<div class="row">
  <div class="col">
    <%= button_to "New operation", new_operation_path(operation), method: :get, class: "btn btn-secondary" %>
  </div>
  <div class="col">
    <%# <%= form_with(model: operation) do |form| %>
      <%# Filter: <%= select(:operation, :category_id, options_for_select(@categories_names), { prompt: "All categories" }) %>
       <%# select
        (
          "order",
          "customer_id",
          o.customer.collect {|c| [ c.label, c.id ] },
          { :include_blank => true, :selected => o.customer_id },
          :onchange => remote_function(:update => "message_id",
          :method => "put",
          :with => "'item=' + value",
          :url => { :controller => :orders, :action => :set_customer_id, :id => order.id})
          ) %>
    <%# <% end %>
  </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col">
      <table class="table table-striped">
        <thead>
          <tr>
              <th scope="col">#</th>
              <th scope="col">Category</th>
              <th scope="col">Amount</th>
              <th scope="col">Date</th>
              <th scope="col">Description</th>
              <th scope="col">Manage</th>
          </tr>
        </thead>
        <tbody>
          <% i = 0 %>
          <% @operations.each do |operation| %>
            <% i += 1 %>
            <tr>
              <th scope="row"><%= operation.id %></th>
              <td><%= @categories_options.key(operation.category_id) %></td>
              <td><%= operation.amount %></td>
              <td><%= operation.odate %></td>
              <td><%= operation.description %></td>
              <td>
                <%= button_to "Edit", edit_operation_path(operation), method: :get, class: "btn btn-secondary crud_button" %>
              </td>
              <td>
                <%= button_to "Destroy", operation, method: :delete, class: "btn btn-secondary crud_button" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
